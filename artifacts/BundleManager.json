{
  "contractName": "BundleManager",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_registry",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_accountImplementation",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bundleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "accountAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address[]",
          "name": "nftContracts",
          "type": "address[]"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "tokenIds",
          "type": "uint256[]"
        }
      ],
      "name": "BundleCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bundleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address[]",
          "name": "nftContracts",
          "type": "address[]"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "tokenIds",
          "type": "uint256[]"
        }
      ],
      "name": "BundleUnwrapped",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bundleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "NFTDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "ACCOUNT_SALT",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "accountImplementation",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "nftContracts",
          "type": "address[]"
        }
      ],
      "name": "batchApproveNFTs",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "bundleId",
          "type": "uint256"
        }
      ],
      "name": "bundleAccountExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "bundleNFT",
      "outputs": [
        {
          "internalType": "contract IBundleNFT",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "nftContracts",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "tokenIds",
          "type": "uint256[]"
        },
        {
          "internalType": "string",
          "name": "bundleName",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "bundleTokenURI",
          "type": "string"
        }
      ],
      "name": "createBundle",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "bundleId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "accountAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "bundleId",
          "type": "uint256"
        }
      ],
      "name": "getBundleAccount",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "name": "onERC721Received",
      "outputs": [
        {
          "internalType": "bytes4",
          "name": "",
          "type": "bytes4"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "registry",
      "outputs": [
        {
          "internalType": "contract IERC6551Registry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_bundleNFT",
          "type": "address"
        }
      ],
      "name": "setBundleNFT",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "bundleId",
          "type": "uint256"
        },
        {
          "internalType": "address[]",
          "name": "nftContracts",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "tokenIds",
          "type": "uint256[]"
        }
      ],
      "name": "unwrapBundle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c03461018c576111e390601f38839003908101601f19168201906001600160401b03821183831017610190578083916040958694855283398101031261018c57610055602061004e836101a4565b92016101a4565b903315610175575f8054336001600160a01b03198216811783558551936001600160a01b039384939192918416907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3600180551691821561014057508216156100fc5760805260a0525161102a90816101b98239608051818181610677015281816108a10152610f58015260a05181818161085001528181610ca80152610f0a0152f35b825162461bcd60e51b815260206004820152601660248201527f496e76616c696420696d706c656d656e746174696f6e000000000000000000006044820152606490fd5b62461bcd60e51b815260206004820152601060248201526f496e76616c696420726567697374727960801b6044820152606490fd5b8251631e4fbdf760e01b81525f6004820152602490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b038216820361018c5756fe6080806040526004361015610012575f80fd5b5f3560e01c90816311464fbe14610c9657508063150b7a0214610c365780634ff8943114610c0657806356352ecb14610bdd578063701d428a14610725578063715018a6146106ce5780637a95144a146106a65780637b1039991461066257806382c06a91146102c35780638da5cb5b1461029c5780638e1c84cc146101e1578063ca9a49841461015e578063d2716312146101445763f2fde38b146100b6575f80fd5b34610140576020366003190112610140576100cf610cd7565b6100d7610fa6565b6001600160a01b03908116908115610128575f54826bffffffffffffffffffffffff60a01b8216175f55167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a3005b604051631e4fbdf760e01b81525f6004820152602490fd5b5f80fd5b34610140575f3660031901126101405760206040515f8152f35b3461014057602036600319011261014057610177610cd7565b61017f610fa6565b6001600160a01b031680156101aa576bffffffffffffffffffffffff60a01b60025416176002555f80f35b60405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b6044820152606490fd5b346101405760203660031901126101405760043567ffffffffffffffff811161014057610212903690600401610d1b565b905f5b82811061021e57005b6001600160a01b03610239610234838686610e27565b610e4b565b1690813b15610140575f809260446040518095819363a22cb46560e01b8352306004840152600160248401525af19182156102915761027d92610282575b50610e05565b610215565b61028b90610d90565b84610277565b6040513d5f823e3d90fd5b34610140575f366003190112610140575f546040516001600160a01b039091168152602090f35b346101405760603660031901126101405760243567ffffffffffffffff8111610140576102f4903690600401610d1b565b9060443567ffffffffffffffff811161014057610315903690600401610d1b565b9161031e610fd1565b831561062957836103328460249614610d4c565b6002546040516331a9108f60e11b815260048035908201529560209187919082906001600160a01b03165afa948515610291575f956105f8575b506001600160a01b03851633036105c057610388600435610ef0565b5f5b8281106104445750506103ee7f69c0defef766b7fbea321d27b255c16379ea894a821a9f53da260ad79eca9f649394956103d1604051948594604086526040860191610e5f565b83810360208501526001600160a01b039091169660043596610eab565b0390a36002546001600160a01b0316803b15610140575f8091602460405180948193630587e59d60e41b835260043560048401525af1801561029157610435575b60018055005b61043e90610d90565b8061042f565b61044f818787610e27565b604051632142170760e11b602082019081526001600160a01b0385811660248401528a1660448301529135606480830191909152815291905f90610494608485610da4565b6104a261023484888a610e27565b9060405180958193639e5d4c4960e01b835260018060a01b0316600483015284602483015260606044830152518060648301526104e58160849485850190610ecf565b601f01601f19168101030181836001600160a01b0388165af1801561029157610518575b6105139150610e05565b61038a565b3d91825f823e6105288382610da4565b60208184810103126101405780519067ffffffffffffffff821161014057838101601f83830101121561014057818101519067ffffffffffffffff82116105ac5760405194610581601f8401601f191660200187610da4565b82865281016020838584010101116101405760206105a793816105139701920101610ecf565b610509565b634e487b7160e01b5f52604160045260245ffd5b60405162461bcd60e51b815260206004820152601060248201526f2737ba10313ab73236329037bbb732b960811b6044820152606490fd5b61061b91955060203d602011610622575b6106138183610da4565b810190610de6565b938561036c565b503d610609565b60405162461bcd60e51b81526020600482015260116024820152704d7573742073706563696679204e46547360781b6044820152606490fd5b34610140575f366003190112610140576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b34610140575f366003190112610140576002546040516001600160a01b039091168152602090f35b34610140575f366003190112610140576106e6610fa6565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b346101405760803660031901126101405767ffffffffffffffff60043581811161014057610757903690600401610d1b565b6024358381116101405761076f903690600401610d1b565b9260443585811161014057610788903690600401610ced565b95606435908111610140576107a1903690600401610ced565b96906107ab610fd1565b8515610b98576107bc878714610d4c565b60328611610b5a578115610b1e576020925f61080c9361082460018060a01b0360025416946040519c8d9788968795637da5c4d760e01b8752336004880152608060248801526084870191610dc6565b918c6044860152600319858403016064860152610dc6565b03925af1938415610291575f94610ae8575b600254604051638a54c52f60e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301525f602483015246604483015290911660648201526084810186905295506020868060a481015b03815f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165af1958615610291575f96610ac7575b505f5b848110610955575084916040966109427ff16aafee70b4d9381e40d72a7c7b5610059947985f22051d5a77283db6ebe474936109338a5194859460018060a01b0316998a8652606060208701526060860191610e5f565b908382038b8501523397610eab565b0390a36001805582519182526020820152f35b6001600160a01b0361096b610234838887610e27565b1690610978818487610e27565b6040516331a9108f60e11b815290356004820152602081602481865afa908115610291575f91610aa8575b50336001600160a01b0390911603610a73576109c0818487610e27565b3591803b1561014057604051632142170760e11b81523360048201526001600160a01b038a16602482015260448101939093525f908390606490829084905af191821561029157610a5f92610a64575b50610a1f610234828887610e27565b610a2a828588610e27565b35906001600160a01b0316887f781e1d43e33afdcbec217b692c5247a3d57fced3f967e711cb5d56b2b37dc6c35f80a4610e05565b6108dc565b610a6d90610d90565b88610a10565b60405162461bcd60e51b815260206004820152600d60248201526c2737ba1027232a1037bbb732b960991b6044820152606490fd5b610ac1915060203d602011610622576106138183610da4565b896109a3565b610ae191965060203d602011610622576106138183610da4565b94866108d9565b93506020853d602011610b16575b81610b0360209383610da4565b810103126101405761089c945193610836565b3d9150610af6565b60405162461bcd60e51b8152602060048201526014602482015273109d5b991b19481b985b59481c995c5d5a5c995960621b6044820152606490fd5b60405162461bcd60e51b8152602060048201526016602482015275546f6f206d616e79204e46547320286d61782035302960501b6044820152606490fd5b60405162461bcd60e51b815260206004820152601a60248201527f4d7573742062756e646c65206174206c656173742031204e46540000000000006044820152606490fd5b34610140576020366003190112610140576020610bfb600435610ef0565b3b1515604051908152f35b34610140576020366003190112610140576020610c24600435610ef0565b6040516001600160a01b039091168152f35b3461014057608036600319011261014057610c4f610cd7565b506024356001600160a01b038116036101405760643567ffffffffffffffff811161014057610c82903690600401610ced565b5050604051630a85bd0160e11b8152602090f35b34610140575f366003190112610140577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b600435906001600160a01b038216820361014057565b9181601f840112156101405782359167ffffffffffffffff8311610140576020838186019501011161014057565b9181601f840112156101405782359167ffffffffffffffff8311610140576020808501948460051b01011161014057565b15610d5357565b60405162461bcd60e51b8152602060048201526015602482015274082e4e4c2f240d8cadccee8d040dad2e6dac2e8c6d605b1b6044820152606490fd5b67ffffffffffffffff81116105ac57604052565b90601f8019910116810190811067ffffffffffffffff8211176105ac57604052565b908060209392818452848401375f828201840152601f01601f1916010190565b9081602091031261014057516001600160a01b03811681036101405790565b5f198114610e135760010190565b634e487b7160e01b5f52601160045260245ffd5b9190811015610e375760051b0190565b634e487b7160e01b5f52603260045260245ffd5b356001600160a01b03811681036101405790565b9190808252602080920192915f805b838210610e7d57505050505090565b9091929394853560018060a01b038116809103610ea7578152830194830193929160010190610e6e565b8280fd5b81835290916001600160fb1b0383116101405760209260051b809284830137010190565b5f5b838110610ee05750505f910152565b8181015183820152602001610ed1565b60025460405163246a002160e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301525f602483015246604483015291821660648201526084810192909252602090829060a49082907f0000000000000000000000000000000000000000000000000000000000000000165afa908115610291575f91610f8b575090565b610fa3915060203d8111610622576106138183610da4565b90565b5f546001600160a01b03163303610fb957565b60405163118cdaa760e01b8152336004820152602490fd5b600260015414610fe2576002600155565b604051633ee5aeb560e01b8152600490fdfea26469706673582212203ad1bbe4c13a759dc3ada5cfef92ffcc404b7b93a3bb4d8effb846d7015b1fb064736f6c63430008140033"
}